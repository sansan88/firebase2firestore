{"version":3,"sources":["webpack:///./node_modules/deckdeckgo-charts/dist/esm/es5/build/3unjmgow.entry.js","webpack:///./node_modules/deckdeckgo-charts/dist/esm/es5/build/chunk-979ca091.js"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmP,kCAAkC,aAAa,iBAAiB,gFAAgF,+CAA+C,OAAO,6DAAiB,+BAA+B,OAAO,+DAAmB,kBAAkB,gBAAgB,6BAA6B,4BAA4B,EAAE,EAAE,+BAA+B,OAAO,6DAAiB,+BAA+B,OAAO,+DAAmB,kBAAkB,gBAAgB,6BAA6B,4BAA4B,EAAE,EAAE,6BAA6B,WAAW,+BAA+B,OAAO,6DAAiB,4BAA4B,gBAAgB,OAAO,+DAAmB,kBAAkB,gBAAgB,sDAAsD,oDAAoB,8NAA8N,8CAA8C,kEAAkE,oDAAoD,gCAAgC,EAAE,EAAE,EAAE,sCAAsC,WAAW,+BAA+B,MAAM,4DAAU,MAAM,4DAAQ,IAAI,sJAAsJ,EAAE,kCAAkC,WAAW,+BAA+B,MAAM,4DAAI,8CAA8C,4DAAI,kBAAkB,4DAAM,gDAAgD,eAAe,gCAAgC,aAAa,EAAE,kEAAkE,4DAAG,eAAe,OAAO,4DAAG,sBAAsB,eAAe,EAAE,OAAO,cAAc,EAAE,EAAE,0CAA0C,WAAW,+BAA+B,sFAAsF,oCAAoC,qCAAqC,gBAAgB,8CAA8C,gBAAgB,uBAAuB,kBAAkB,wDAAwD,2BAA2B,2BAA2B,sDAAsD,0DAA0D,8CAA8C,2DAA2D,MAAM,EAAE,kCAAkC,OAAO,6DAAiB,+BAA+B,WAAW,OAAO,+DAAmB,kBAAkB,iCAAiC,OAAO,6DAAiB,4BAA4B,iBAAiB,OAAO,+DAAmB,kBAAkB,gBAAgB,uDAAuD,iCAAiC,kGAAkG,2BAA2B,mBAAmB,iBAAiB,WAAW,KAAK,qBAAqB,kBAAkB,oBAAoB,EAAE,QAAQ,oBAAoB,GAAG,yBAAyB,EAAE,EAAE,GAAG,EAAE,EAAE,+BAA+B,OAAO,oEAAC,aAAa,+BAA+B,eAAe,yBAAyB,+BAA+B,2CAA2C,eAAe,eAAe,+BAA+B,wCAAwC,eAAe,OAAO,MAAM,UAAU,KAAK,cAAc,SAAS,oDAAoD,eAAe,iCAAiC,aAAa,+BAA+B,cAAc,gCAAgC,YAAY,8BAA8B,YAAY,6BAA6B,MAAM,iDAAiD,QAAQ,qDAAqD,+BAA+B,mCAAmC,eAAe,YAAY,oCAAoC,yCAAyC,sBAAsB,UAAU,2CAA2C,2BAA2B,EAAE,+BAA+B,IAAI,G;;;;;;;;;;;;ACA1jJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAwB,+BAA+B,qBAAqB,iDAAiD,uBAAuB,yCAAyC,IAAI,EAAE,cAAc,sBAAsB,SAAS,yBAAyB,yCAAyC,IAAI,EAAE,cAAc,sBAAsB,WAAW,gCAAgC,qBAAqB,0BAA0B,wCAAwC,qBAAqB,QAAQ,8BAA8B,WAAW,qEAAqE,0BAA0B,WAAW,KAAK,MAAM,4EAA4E,YAAY,kBAAkB,MAAM,8BAA8B,WAAW,mDAAmD,0BAA0B,WAAW,KAAK,MAAM,0DAA0D,SAAS,kBAAkB,MAAM,8BAA8B,WAAW,mDAAmD,0BAA0B,WAAW,KAAK,MAAM,0DAA0D,SAAS,kCAAkC,uBAAuB,SAAS,+CAA+C,uBAAuB,gCAAgC,uBAAuB,gCAAgC,qBAAqB,mBAAmB,aAAa,mBAAmB,oCAAoC,gDAAgD,eAAe,oBAAoB,mBAAmB,mBAAmB,sIAAsI,cAAc,oaAAoa,ycAAyc,4DAA4D,yDAAyD,6BAA6B,qCAAqC,kMAAkM,eAAe,uNAAuN,cAAc,EAAE,2BAA2B,kCAAkC,oBAAoB,mCAAmC,6BAA6B,mEAAmE,0BAA0B,wEAAwE,0BAA0B,kCAAkC,wBAAwB,qCAAqC,6BAA6B,mCAAmC,6BAA6B,mCAAmC,2BAA2B,mCAAmC,GAAG,uBAAuB,sBAAsB,qBAAqB,oB","file":"147.b15b5252684c0616b32f.js","sourcesContent":["import*as tslib_1 from\"../polyfills/tslib.js\";import{h}from\"../deckdeckgo-charts.core.js\";import{a as DeckdeckgoChartUtils,b as band,c as linear}from\"./chunk-4f27ba6c.js\";import{a as max,b as axisBottom,c as axisLeft}from\"./chunk-979ca091.js\";var DeckdeckgoBarChart=function(){function t(){this.separator=\";\",this.marginTop=32,this.marginBottom=32,this.marginLeft=32,this.marginRight=32}return t.prototype.componentDidLoad=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(t){switch(t.label){case 0:return[4,this.draw()];case 1:return t.sent(),[2]}})})},t.prototype.redraw=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){return tslib_1.__generator(this,function(t){switch(t.label){case 0:return[4,this.draw()];case 1:return t.sent(),[2]}})})},t.prototype.draw=function(){var t=this;return new Promise(function(r){return tslib_1.__awaiter(t,void 0,void 0,function(){var t,e,a,n,i,s;return tslib_1.__generator(this,function(o){switch(o.label){case 0:return this.width&&this.height&&this.src?(t=(t=DeckdeckgoChartUtils.initSvg(this.el,this.width+this.marginLeft+this.marginRight,this.height+this.marginTop+this.marginBottom)).append(\"g\").attr(\"transform\",\"translate(\"+this.marginLeft+\",\"+this.marginTop+\")\"),[4,this.fetchData()]):(r(),[2]);case 1:return e=o.sent(),[4,this.initAxis(e)];case 2:return a=o.sent(),i=a.x1,[4,this.drawAxis(t,n=a.x0,s=a.y)];case 3:return o.sent(),[4,this.drawBars(t,n,i,s,e)];case 4:return o.sent(),r(),[2]}})})})},t.prototype.drawAxis=function(t,r,e){var a=this;return new Promise(function(n){var i=axisBottom(r),s=axisLeft(e);t.append(\"g\").attr(\"class\",\"axis axis-x\").attr(\"transform\",\"translate(0,\"+a.height+\")\").call(i),t.append(\"g\").attr(\"class\",\"axis axis-y\").call(s),n()})},t.prototype.initAxis=function(t){var r=this;return new Promise(function(e){var a=band().rangeRound([0,r.width]).paddingInner(.1),n=band().padding(.05),i=linear().rangeRound([r.height,0]),s=t.map(function(t){return t.label}),o=t[0].values.map(function(t){return t.key});a.domain(s),n.domain(o).rangeRound([0,a.bandwidth()]),i.domain([0,max(t,function(t){return max(t.values,function(t){return t.value})})]),e({x0:a,x1:n,y:i})})},t.prototype.drawBars=function(t,r,e,a,n){var i=this;return new Promise(function(s){t.append(\"g\").selectAll(\"g\").data(n).enter().append(\"g\").attr(\"transform\",function(t){return\"translate(\"+r(t.label)+\",0)\"}).selectAll(\"rect\").data(function(t){return t.values}).enter().append(\"rect\").attr(\"x\",function(t){return e(t.key)}).attr(\"y\",function(t){return a(t.value)}).attr(\"width\",e.bandwidth()).attr(\"height\",function(t){return i.height-a(t.value)}).attr(\"style\",function(t){return\"fill: var(--deckgo-chart-fill-color-\"+t.key+\"); fill-opacity: var(--deckgo-chart-fill-opacity-\"+t.key+\"); stroke: var(--deckgo-chart-stroke-\"+t.key+\"); stroke-width: var(--deckgo-chart-stroke-width-\"+t.key+\")\"}),s()})},t.prototype.fetchData=function(){return tslib_1.__awaiter(this,void 0,void 0,function(){var t=this;return tslib_1.__generator(this,function(r){return[2,new Promise(function(r){return tslib_1.__awaiter(t,void 0,void 0,function(){var t,e,a,n=this;return tslib_1.__generator(this,function(i){switch(i.label){case 0:return this.src?[4,fetch(this.src)]:(r([]),[2]);case 1:return[4,i.sent().text()];case 2:return(t=i.sent())?!(e=t.split(\"\\n\"))||e.length<=0?(r([]),[2]):(a=[],e.forEach(function(t){var r=t.split(n.separator);if(r&&r.length>=2){for(var e=[],i=1;i<r.length;i++){var s=parseInt(r[i]);isNaN(s)||e.push({key:\"bar\"+i,value:s})}a.push({label:r[0],values:e})}}),r(a),[2]):(r([]),[2])}})})})]})})},t.prototype.render=function(){return h(\"svg\",null)},Object.defineProperty(t,\"is\",{get:function(){return\"deckgo-bar-chart\"},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"encapsulation\",{get:function(){return\"shadow\"},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"properties\",{get:function(){return{draw:{method:!0},el:{elementRef:!0},height:{type:Number,attr:\"height\",watchCallbacks:[\"redraw\"]},marginBottom:{type:Number,attr:\"margin-bottom\"},marginLeft:{type:Number,attr:\"margin-left\"},marginRight:{type:Number,attr:\"margin-right\"},marginTop:{type:Number,attr:\"margin-top\"},separator:{type:String,attr:\"separator\"},src:{type:String,attr:\"src\",watchCallbacks:[\"redraw\"]},width:{type:Number,attr:\"width\",watchCallbacks:[\"redraw\"]}}},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"style\",{get:function(){return\"text{fill:var(--deckgo-chart-text-color);display:var(--deckgo-chart-text-display)}.axis line,.axis path{fill:none;stroke:var(--deckgo-chart-axis-color,#000);shape-rendering:crispEdges}\"},enumerable:!0,configurable:!0}),t}();export{DeckdeckgoBarChart as DeckgoBarChart};","function ascending(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function bisector(t){return 1===t.length&&(t=ascendingComparator(t)),{left:function(n,r,e,i){for(null==e&&(e=0),null==i&&(i=n.length);e<i;){var a=e+i>>>1;t(n[a],r)<0?e=a+1:i=a}return e},right:function(n,r,e,i){for(null==e&&(e=0),null==i&&(i=n.length);e<i;){var a=e+i>>>1;t(n[a],r)>0?i=a:e=a+1}return e}}}function ascendingComparator(t){return function(n,r){return ascending(t(n),r)}}var ascendingBisect=bisector(ascending);function extent(t,n){var r,e;if(void 0===n)for(var i=0,a=t;i<a.length;i++)null!=(c=a[i])&&c>=c&&(void 0===r?r=e=c:(r>c&&(r=c),e<c&&(e=c)));else for(var o=-1,l=0,u=t;l<u.length;l++){var c;null!=(c=n(c=u[l],++o,t))&&c>=c&&(void 0===r?r=e=c:(r>c&&(r=c),e<c&&(e=c)))}return[r,e]}function max(t,n){var r;if(void 0===n)for(var e=0,i=t;e<i.length;e++)null!=(u=i[e])&&u>=u&&(void 0===r||r<u)&&(r=u);else for(var a=-1,o=0,l=t;o<l.length;o++){var u;null!=(u=n(u=l[o],++a,t))&&u>=u&&(void 0===r||r<u)&&(r=u)}return r}function min(t,n){var r;if(void 0===n)for(var e=0,i=t;e<i.length;e++)null!=(u=i[e])&&u>=u&&(void 0===r||r>u)&&(r=u);else for(var a=-1,o=0,l=t;o<l.length;o++){var u;null!=(u=n(u=l[o],++a,t))&&u>=u&&(void 0===r||r>u)&&(r=u)}return r}var slice$1=Array.prototype.slice;function identity$1(t){return t}var top=1,right=2,bottom=3,left=4,epsilon=1e-6;function translateX(t){return\"translate(\"+(t+.5)+\",0)\"}function translateY(t){return\"translate(0,\"+(t+.5)+\")\"}function number$1(t){return function(n){return+t(n)}}function center(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(r){return+t(r)+n}}function entering(){return!this.__axis}function axis(t,n){var r=[],e=null,i=null,a=6,o=6,l=3,u=t===top||t===left?-1:1,c=t===left||t===right?\"x\":\"y\",s=t===top||t===bottom?translateX:translateY;function f(f){var d=null==e?n.ticks?n.ticks.apply(n,r):n.domain():e,g=null==i?n.tickFormat?n.tickFormat.apply(n,r):identity$1:i,m=Math.max(a,0)+l,h=n.range(),v=+h[0]+.5,p=+h[h.length-1]+.5,x=(n.bandwidth?center:number$1)(n.copy()),k=f.selection?f.selection():f,y=k.selectAll(\".domain\").data([null]),b=k.selectAll(\".tick\").data(d,n).order(),$=b.exit(),M=b.enter().append(\"g\").attr(\"class\",\"tick\"),_=b.select(\"line\"),A=b.select(\"text\");y=y.merge(y.enter().insert(\"path\",\".tick\").attr(\"class\",\"domain\").attr(\"stroke\",\"currentColor\")),b=b.merge(M),_=_.merge(M.append(\"line\").attr(\"stroke\",\"currentColor\").attr(c+\"2\",u*a)),A=A.merge(M.append(\"text\").attr(\"fill\",\"currentColor\").attr(c,u*m).attr(\"dy\",t===top?\"0em\":t===bottom?\"0.71em\":\"0.32em\")),f!==k&&(y=y.transition(f),b=b.transition(f),_=_.transition(f),A=A.transition(f),$=$.transition(f).attr(\"opacity\",epsilon).attr(\"transform\",function(t){return isFinite(t=x(t))?s(t):this.getAttribute(\"transform\")}),M.attr(\"opacity\",epsilon).attr(\"transform\",function(t){var n=this.parentNode.__axis;return s(n&&isFinite(n=n(t))?n:x(t))})),$.remove(),y.attr(\"d\",t===left||t==right?o?\"M\"+u*o+\",\"+v+\"H0.5V\"+p+\"H\"+u*o:\"M0.5,\"+v+\"V\"+p:o?\"M\"+v+\",\"+u*o+\"V0.5H\"+p+\"V\"+u*o:\"M\"+v+\",0.5H\"+p),b.attr(\"opacity\",1).attr(\"transform\",function(t){return s(x(t))}),_.attr(c+\"2\",u*a),A.attr(c,u*m).text(g),k.filter(entering).attr(\"fill\",\"none\").attr(\"font-size\",10).attr(\"font-family\",\"sans-serif\").attr(\"text-anchor\",t===right?\"start\":t===left?\"end\":\"middle\"),k.each(function(){this.__axis=x})}return f.scale=function(t){return arguments.length?(n=t,f):n},f.ticks=function(){return r=slice$1.call(arguments),f},f.tickArguments=function(t){return arguments.length?(r=null==t?[]:slice$1.call(t),f):r.slice()},f.tickValues=function(t){return arguments.length?(e=null==t?null:slice$1.call(t),f):e&&e.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(a=o=+t,f):a},f.tickSizeInner=function(t){return arguments.length?(a=+t,f):a},f.tickSizeOuter=function(t){return arguments.length?(o=+t,f):o},f.tickPadding=function(t){return arguments.length?(l=+t,f):l},f}function axisBottom(t){return axis(bottom,t)}function axisLeft(t){return axis(left,t)}export{max as a,axisBottom as b,axisLeft as c,extent as d,min as e};"],"sourceRoot":""}